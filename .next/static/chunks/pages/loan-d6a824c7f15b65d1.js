(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{4738:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/loan",function(){return n(9947)}])},9947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(7876),r=n(4232),a=n(9099),l=n(4312);function s(){let e=(0,a.useRouter)(),[t,n]=(0,r.useState)(null);(0,r.useEffect)(()=>{let t=sessionStorage.getItem("paid_loan"),o=sessionStorage.getItem("paid_loan_time");if(!t||!o)return void e.push("/pay?tool=loan");if(new Date().getTime()-parseInt(o)>72e5){sessionStorage.removeItem("paid_loan"),sessionStorage.removeItem("paid_loan_time"),e.push("/pay?tool=loan");return}let r=()=>{let t=72e5-(new Date().getTime()-parseInt(o));if(t<=0){sessionStorage.removeItem("paid_loan"),sessionStorage.removeItem("paid_loan_time"),e.push("/pay?tool=loan");return}let r=Math.floor(t/1e3/60/60),a=Math.floor(t/1e3/60%60);n("".concat(r,"h ").concat(a,"m left"))};r();let a=setInterval(r,6e4);return()=>clearInterval(a)},[]);let[s,i]=(0,r.useState)("Vehicle Finance"),[d,c]=(0,r.useState)(75e3),[m,p]=(0,r.useState)(24),[u,h]=(0,r.useState)(12500),[x,g]=(0,r.useState)(2600),[b,y]=(0,r.useState)(15),[j,f]=(0,r.useState)(1e4),[v,R]=(0,r.useState)(!1),[S,C]=(0,r.useState)({}),[w,_]=(0,r.useState)("");return(0,o.jsxs)("div",{style:{maxWidth:"600px",margin:"2rem auto",padding:"1rem",border:"2px solid #ec4899",borderRadius:"10px",backgroundColor:"#fdf2f8"},children:[t&&(0,o.jsxs)("div",{style:{padding:"10px",marginBottom:"1rem",backgroundColor:"#fff0f5",border:"1px solid #ec4899",borderRadius:"8px",textAlign:"center",fontWeight:"bold"},children:["⏳ Access expires in: ",t]}),(0,o.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#ec4899",marginBottom:"1rem"},children:"Loan Qualification Tool"}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{children:"Loan Type"}),(0,o.jsx)("br",{}),(0,o.jsxs)("select",{value:s,onChange:e=>i(e.target.value),style:{width:"100%",padding:"0.5rem"},children:[(0,o.jsx)("option",{children:"Vehicle Finance"}),(0,o.jsx)("option",{children:"Home Loan"}),(0,o.jsx)("option",{children:"Personal Loan"}),(0,o.jsx)("option",{children:"Credit Card"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{children:"Loan Amount"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",value:d,onChange:e=>c(Number(e.target.value)),style:{width:"100%",padding:"0.5rem"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{children:"Term (months)"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",value:m,onChange:e=>p(Number(e.target.value)),style:{width:"100%",padding:"0.5rem"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{children:"Monthly Income"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",value:u,onChange:e=>h(Number(e.target.value)),style:{width:"100%",padding:"0.5rem"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{children:"Monthly Expense"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",value:x,onChange:e=>g(Number(e.target.value)),style:{width:"100%",padding:"0.5rem"}})]}),"Vehicle Finance"===s&&(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{children:"Residual %"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",value:b,onChange:e=>y(Number(e.target.value)),style:{width:"100%",padding:"0.5rem"}})]}),("Vehicle Finance"===s||"Home Loan"===s)&&(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("label",{children:"Deposit"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",value:j,onChange:e=>f(Number(e.target.value)),style:{width:"100%",padding:"0.5rem"}})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[(0,o.jsx)("button",{onClick:()=>{let e=d-j,t="Vehicle Finance"===s?b/100*e:0,n=e-t,o=u-x,r=700;x/u>.5&&(r-=100),o<3e3&&(r-=50),d>6*u&&(r-=50),m>60&&(r-=25);let a=14,l=(a=r>=750?10.5:r>=700?13:r>=650?17:r>=600?21:27.75)/100/12,i=parseFloat((n*l/(1-Math.pow(1+l,-m))).toFixed(2)),c=parseFloat((i*m+t).toFixed(2)),p=parseFloat((c-e).toFixed(2)),h=parseFloat((i/u*100).toFixed(1)),g=h<45&&i<=o;C({monthlyRepayment:i,totalRepayment:c,loanCost:p,balloon:parseFloat(t.toFixed(2)),dti:h,disposable:o,creditScore:r,interestRate:a,approved:g}),_(g?"✅ Great news! You qualify for this loan. Your financial profile shows good affordability and creditworthiness.":"❌ Unfortunately, this loan may not be affordable at the moment. Consider reducing your expenses or increasing your income. You may also try a lower loan amount or longer term."),R(!0)},style:{padding:"0.5rem 1rem",background:"#ec4899",color:"white",border:"none",borderRadius:"5px"},children:"Calculate"}),(0,o.jsx)("button",{onClick:()=>{c(""),p(""),h(""),g(""),y(""),f(""),R(!1),C({}),_("")},style:{padding:"0.5rem 1rem",border:"1px solid #ccc",borderRadius:"5px"},children:"Clear"}),v&&(0,o.jsx)("button",{onClick:()=>{let e=new l.Ay;e.setFontSize(16),e.text("Loan Qualification Results",20,20);let t=["Loan Type: ".concat(s),"Loan Amount: R ".concat(d),"Term: ".concat(m," months"),"Monthly Repayment: R ".concat(S.monthlyRepayment),"Total Repayment: R ".concat(S.totalRepayment),"Loan Cost: R ".concat(S.loanCost),"Vehicle Finance"===s?"Balloon Payment: R ".concat(S.balloon):null,"Disposable Income: R ".concat(S.disposable),"DTI: ".concat(S.dti,"%"),"Estimated Credit Score: ".concat(S.creditScore),"Interest Rate Applied: ".concat(S.interestRate,"%"),S.approved?"Status: Approved":"Status: Declined","Recommendation: ".concat(w)].filter(Boolean);e.setFontSize(12),e.text(t,20,40),e.save("loan-results.pdf")},style:{padding:"0.5rem 1rem",background:"#6b7280",color:"white",border:"none",borderRadius:"5px"},children:"Export PDF"})]}),v&&(0,o.jsxs)("div",{style:{marginTop:"2rem",color:"#333",background:"#fff",padding:"1rem",borderRadius:"8px"},children:[(0,o.jsx)("h3",{style:{color:"#ec4899"},children:"Results:"}),(0,o.jsx)("div",{style:{fontSize:"1rem",marginBottom:"1rem"},children:(0,o.jsx)("span",{style:{padding:"0.4rem 0.8rem",borderRadius:"20px",backgroundColor:S.approved?"#dcfce7":"#fee2e2",color:S.approved?"#166534":"#991b1b",fontWeight:"bold"},children:S.approved?"✅ Approved":"❌ Declined"})}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Monthly Repayment:"})," R ",S.monthlyRepayment]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Total Repayment:"})," R ",S.totalRepayment]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Loan Cost:"})," R ",S.loanCost]}),"Vehicle Finance"===s&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Balloon Payment:"})," R ",S.balloon]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Disposable Income:"})," R ",S.disposable]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"DTI:"})," ",S.dti,"%"]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Estimated Credit Score:"})," ",S.creditScore]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Interest Rate Applied:"})," ",S.interestRate,"%"]}),(0,o.jsx)("p",{style:{marginTop:"1rem",fontWeight:"bold",color:S.approved?"green":"red"},children:w})]})]})}function i(){return(0,o.jsx)("main",{className:"p-4 min-h-screen bg-gray-100",children:(0,o.jsx)(s,{})})}}},e=>{e.O(0,[347,329,636,593,792],()=>e(e.s=4738)),_N_E=e.O()}]);