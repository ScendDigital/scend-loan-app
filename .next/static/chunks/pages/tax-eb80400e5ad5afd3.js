(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[727],{2814:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(7876),r=a(4312),l=a(4232),s=a(9099);function o(){let e=(0,s.useRouter)(),[t,a]=(0,l.useState)(null);(0,l.useEffect)(()=>{let t=sessionStorage.getItem("paid_tax"),n=sessionStorage.getItem("paid_tax_time");if(!t||!n)return void e.push("/pay?tool=tax");if(new Date().getTime()-parseInt(n)>72e5){sessionStorage.removeItem("paid_tax"),sessionStorage.removeItem("paid_tax_time"),e.push("/pay?tool=tax");return}let r=()=>{let t=72e5-(new Date().getTime()-parseInt(n));if(t<=0){sessionStorage.removeItem("paid_tax"),sessionStorage.removeItem("paid_tax_time"),e.push("/pay?tool=tax");return}let r=Math.floor(t/1e3/60/60),l=Math.floor(t/1e3/60%60);a("".concat(r,"h ").concat(l,"m left"))};r();let l=setInterval(r,6e4);return()=>clearInterval(l)},[]);let[o,i]=(0,l.useState)(0),[d,c]=(0,l.useState)(0),[u,x]=(0,l.useState)(""),[p,m]=(0,l.useState)(0),[h,g]=(0,l.useState)(0),[f,b]=(0,l.useState)(0),[R,j]=(0,l.useState)(null);return(0,n.jsxs)("div",{style:{maxWidth:"700px",margin:"2rem auto",padding:"1rem",border:"2px solid #ec4899",borderRadius:"10px",backgroundColor:"#fdf2f8"},children:[t&&(0,n.jsxs)("div",{style:{padding:"10px",marginBottom:"1rem",backgroundColor:"#fff0f5",border:"1px solid #ec4899",borderRadius:"8px",textAlign:"center",fontWeight:"bold"},children:["⏳ Access expires in: ",t]}),(0,n.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#6b7280",marginBottom:"1rem"},children:"Tax Calculator (SARS 2024/2025)"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,n.jsxs)("label",{children:["Gross Annual Income: ",(0,n.jsx)("input",{type:"number",value:o,onChange:e=>i(parseFloat(e.target.value))})]}),(0,n.jsxs)("label",{children:["Medical Aid Dependents: ",(0,n.jsx)("input",{type:"number",value:d,onChange:e=>c(parseInt(e.target.value))})]}),(0,n.jsxs)("label",{children:["ID Number: ",(0,n.jsx)("input",{type:"text",value:u,onChange:e=>x(e.target.value)})]}),(0,n.jsxs)("label",{children:["Retirement Contributions: ",(0,n.jsx)("input",{type:"number",value:p,onChange:e=>m(parseFloat(e.target.value))})]}),(0,n.jsxs)("label",{children:["Car Allowance: ",(0,n.jsx)("input",{type:"number",value:h,onChange:e=>g(parseFloat(e.target.value))})]}),(0,n.jsxs)("label",{children:["Tax Paid: ",(0,n.jsx)("input",{type:"number",value:f,onChange:e=>b(parseFloat(e.target.value))})]})]}),(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsx)("button",{onClick:()=>{let e=(e=>{let t=parseInt(e.slice(0,2),10),a=new Date(t>50?1900+t:2e3+t,parseInt(e.slice(2,4),10)-1,parseInt(e.slice(4,6),10));return Math.floor((Date.now()-a.getTime())/315576e5)})(u),t=17235;e<65||(t+=9444),e<75||(t+=3145);let a=o-p-.8*h,n=0;n=a<=237100?.18*a:a<=370500?42678+(a-237100)*.26:a<=512800?77362+(a-370500)*.31:a<=673e3?121475+(a-512800)*.36:a<=857900?179147+(a-673e3)*.39:a<=1817e3?251258+(a-857900)*.41:644489+(a-1817e3)*.45;let r=0;d>=1&&(r+=364),d>=2&&(r+=364),d>=3&&(r+=(d-2)*246);let l=12*r,s=Math.max(n-t-l,0),i=f-s,c=i>0?"✅ You have overpaid. SARS owes you R".concat(i.toFixed(2)):i<0?"❌ You owe SARS R".concat(Math.abs(i).toFixed(2)):"✅ Your tax is correctly calculated. No amount due to or from SARS.";j({tax:n.toFixed(2),rebate:t,annualMedCredit:l,finalTax:s.toFixed(2),message:c})},children:"Calculate"}),(0,n.jsx)("button",{onClick:()=>{i(0),c(0),x(""),m(0),g(0),b(0),j(null)},style:{marginLeft:"1rem"},children:"Clear"}),(0,n.jsx)("button",{onClick:()=>{let e=new r.Ay;e.setFontSize(16),e.text("SARS Tax Calculation Results",20,20);let t=["Annual Income: R ".concat(o),"Dependents: ".concat(d),"Retirement Contribution: R ".concat(p),"Car Allowance: R ".concat(h),"Tax Paid: R ".concat(f),"Tax Before Rebates: R ".concat(R.tax),"Primary + Age Rebates: R ".concat(R.rebate),"Medical Aid Credit: R ".concat(R.annualMedCredit),"Final Tax Due: R ".concat(R.finalTax),"Outcome: ".concat(R.message)];e.setFontSize(12),e.text(t,20,40),e.save("tax-results.pdf")},style:{marginLeft:"1rem"},children:"Export PDF"})]}),R&&(0,n.jsxs)("div",{style:{marginTop:"2rem",backgroundColor:"#fff0f6",padding:"1rem",borderRadius:"8px"},children:[(0,n.jsx)("h3",{style:{color:"#6b7280"},children:"Results:"}),(0,n.jsxs)("p",{children:["Tax Before Rebates: R ",R.tax]}),(0,n.jsxs)("p",{children:["Rebates: R ",R.rebate]}),(0,n.jsxs)("p",{children:["Medical Aid Credit: R ",R.annualMedCredit]}),(0,n.jsx)("p",{children:(0,n.jsxs)("strong",{children:["Final Tax Payable: R ",R.finalTax]})}),(0,n.jsx)("p",{children:R.message})]})]})}function i(){return(0,n.jsx)("div",{style:{maxWidth:"600px",margin:"2rem auto",padding:"1rem",border:"2px solid #ec4899",borderRadius:"10px",backgroundColor:"#fdf2f8"},children:(0,n.jsx)(o,{})})}},7478:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tax",function(){return a(2814)}])}},e=>{e.O(0,[347,329,636,593,792],()=>e(e.s=7478)),_N_E=e.O()}]);